<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<title>Apollonius</title>
<script type = "module" src="./main.js"></script>
<style>
	@font-face{
		font-family: "computer modern";
		src: url(fonts/cmunrm-webfont.woff);
	}
	.hide{
		visibility: hidden;
	}
	.drag_handle{
		cursor: move;
	}
	.drag_hint{
		fill: none;
		stroke: black;
		stroke-width: 0.01;
	}
</style>
</head>

<body>

<h2> Apollonian gasket drawing </h3>
<p>
Here are three ways to draw an apollonian gasket! If you have a mouse, drag the centers of three circles around. Or, keeping the outer circle fixed, drag two mutually tangent inner circles. You can also specify three bends to generate a gasket which contains those three bends tangent to one another. You can adjust the presentation of the circles, including an indicator of the bend. If you prefer to draw the circles yourself, you can also download a csv list of the circles.
</p>
<form id="inputs" onsubmit="return false;">
<fieldset>
	<legend>Style</legend>
	<label for="width">Width</label>
	<input type="number" name="width" id="width" value="500" step="100" min="100" max="10000">px. Firefox can't reliably draw more than 10,000.
	<br/>
	<label for="max_count">Maximum circle count</label>
	<input type="number" name="max_count" id="max_count" value="300" step="100">
	<fieldset>
		<legend>Circles</legend>
		<label for="color">Gasket color</label>
		<input type="color" name="color" id="color" value="#00ff00">
		<label for="background">Background color</label>
		<input type="color" name="background" id="background" value="#000000">
	</fieldset>

</fieldset>


<h3>Specify bends </h3>


<p>
<fieldset name="bends">
	<legend>Bends</legend>
	<input type="number" name="b1" value="18">
	<input type="number" name="b2" value="23">
	<input type="number" name="b3" value="27">
	</br>
	<input type="radio" name="threshold_type" id="bend" value="bend" checked>
	<label for="bend">Maximum bend
		<input type="number" name="max_bend" value="1000">
	</label>
	</br>
	<input type="radio" name="threshold_type" id="radius" value="radius">
	<label for="radius">Minimum radius
		<input type="number" name="min_radius" value="1" step="0.1">%
	</label>
</fieldset>
<fieldset>
	<legend>Geometry</legend>
	<label for="rotation">Rotation</label>
	<input type="range" name="rotation" id="rotation" min="-180" max="180">
	<br/>
	<input type="checkbox" name="flip" id="flip">
	<label for="flip">Flip</label>
</fieldset>
<fieldset>
<legend>Labels</legend>
	This feature seems to only really work on Firefox right now. Inkscape does not support the feature "transform-origin" yet, so it can't render the labels in the correct spots. Edge (and probably Chrome) does something I don't understand.
	</br>
	<label for="show_numbers">Show</label>
	<input type="checkbox" name="show_numbers" id="show_numbers">
	</br>
	<label for="font">Font</font>
	<select id="font" name="font">
		<option value="computer modern" selected>Computer Modern</option>
		<option value="courier new">Courier New</option>
		<option value="times">Times</option>
		<option value="arial">Arial</option>
	</select>
	</br>
	<label for="label_color">Color</label>
	<input type="color" name="label_color" id="label_color" value="#000000">
	<label for="highlight_color">Highlight</label>
	<input type="color" name="highlight_color" id="highlight_color" value="#ffffff">
	Click a label to highlight it in the chosen color.
</fieldset>
<fieldset>
	<legend>Export</legend>
	<button name="export_bends_svg">SVG</button>
	<button name="export_bends_png">PNG</button>
	<button name="export_bends_csv">CSV</button>
</fieldset>

<div id="bend_display"></div>

<h3>Drag centers</h3>
You need a mouse for this!</br>
<input type="checkbox" id="show_handles" name="show_handles" checked>
<label for="show_handles">Show handles</label>
</br>
<label for="min_radius_drag3">Minimum radius</label>
<input type="number" id="min_radius_drag3" name="min_radius_drag3" value="1">%
<fieldset>
	<legend>Export</legend>
	<button name="export_drag3_svg">SVG</button>
	<button name="export_drag3_png">PNG</button>
	<button name="export_drag3_csv">CSV</button>
</fieldset>

<svg xmlns="http://www.w3.org/2000/svg" width="500" height="500" viewBox="-1 -1 2 2" id="drag_3_svg" style="border:1px solid black">
	<g id="interior_circles3"/>
	<g id="handles3">
		<circle class="drag_handle" cx="-0.5" cy="0" r=0.1 id="drag_3_handle_1"/>
		<circle class="drag_handle" cx="0.5" cy="0" r=0.1 id="drag_3_handle_2"/>
		<circle class="drag_handle" cx="0" cy="-0.5" r=0.1 id="drag_3_handle_3"/>
	</g>
</svg>


<h3> Drag two centers </h3>

You need a mouse for this!</br>
<input type="checkbox" id="show_handles_shadow" name="show_handles_shadow" checked>
<label for="show_handles_shadow">Show handles</label>
</br>
<label for="min_radius_drag2">Minimum radius</label>
<input type="number" id="min_radius_drag2" name="min_radius_drag2" value="1">%
<fieldset>
	<legend>Export</legend>
	<button name="export_drag2_svg">SVG</button>
	<button name="export_drag2_png">PNG</button>
	<button name="export_drag2_csv">CSV</button>
</fieldset>

<svg xmlns="http://www.w3.org/2000/svg" width="500" height="500" viewBox="-1 -1 2 2" id="drag_2_svg" style="border:1px solid black">
	<g id="interior_circles"/>
	<g id="drag_hint"/>
	<g id="handles">
		<circle class="drag_handle" cx="-0.5" cy="0" r=0.1 id="drag_2_handle_1"/>
		<circle class="drag_handle" cx="0.5" cy="0" r=0.1 id="drag_2_handle_2"/>
	</g>
</svg>



</form>

<p>Made by Alden Bradford, August 6, 2021. <a href="https://github.com/AldenMB/Apollo">See the source code.</a></p>
</body>

</html>
